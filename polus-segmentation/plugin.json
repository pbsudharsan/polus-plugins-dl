{
  "name": "Cellpose Training",
  "version": "0.1.4",
  "title": "Cellpose Training",
  "description": "Training Neural network to segment cyto/nuclei",
  "author": "Sudharsan Prativadi(sudharsan.prativadi@labshare.org)",
  "institution": "National Center for Advancing Translational Sciences, National Institutes of Health",
  "repository": "https://github.com/labshare/polus-plugins",
  "website": "https://ncats.nih.gov/preclinical/core/informatics",
  "citation": "Cellpose a generalist, deep learning-based segmentation algorithm which can very precisely segment a wide range of image types out-of-the-box and does not require model retraining or parameter adjustments, https://www.biorxiv.org/content/10.1101/2020.02.02.931238v1",
  "containerId": "labshare/polus-cellpose-training-plugin:0.1.4",
  "inputs": [
    {
      "name": "diameter",
      "type": "integer",
      "description": "Default Diameter is 30 for cyto and 17 for nuclei. If diameter is 0 there will be no rescaling",
      "required": false
    },
    {
      "name": "inpDir",
      "type": "collection",
      "description": "Input image collection to be processed by this plugin",
      "required": true
    },
    {
      "name": "pretrainedModel",
      "type": "enum",
      "description": "Choose cyto/nuclei to segment",
      "options": {
        "values": [
          "cyto",
          "nuclei",
          "custom"
        ]
      },
      "required": true
    },
    {
      "name": "cpretrainedModel",
      "type": "tensorflowModel",
      "description": "Select the custom pretrained model for segmentation",
      "required": true
    },
    {
      "name": "flowPath",
      "type": "genericData",
      "description": "Vector field of Labelled images",
      "required": true
    },
    {
      "name": "learningRate",
      "type": "integer",
      "description": "Learning rate. Default value is 0.2",
      "required": false
    },
    {
      "name": "nEpochs",
      "type": "integer",
      "description": "No of Epochs. Default value is 500",
      "required": false
    },
    {
      "name": "batchSize",
      "type": "integer",
      "description": "Batch size for training. Default value is 8",
      "required": false
    },
    {
      "name": "residualOn",
      "type": "boolean",
      "description": "Use residual connections. Default value is True",
      "required": false
    },
    {
      "name": "styleOn",
      "type": "boolean",
      "description": "Use style vectors. Default value is True",
      "required": false
    },
    {
      "name": "concatenation",
      "type": "boolean",
      "description": "Concatenate downsampled layers with upsampled layers(off by default which means they are added). Default value is False",
      "required": false
    },
    {
      "name": "trainFraction",
      "type": "integer",
      "description": "Test train split. Default 0.8",
      "required": false
    }
  ],
  "outputs": [
    {
      "name": "outDir",
      "type": "tensorflowModel",
      "description": "Model weights"
    }
  ],
  "ui": [
    {
      "key": "inputs.inpDir",
      "title": "Input collection",
      "description": "Input image collection to be processed by this plugin"
    },
    {
      "key": "inputs.diameter",
      "title": "Diameter ",
      "description": "Diameter"
    },
    {
      "key": "inputs.pretrainedModel",
      "title": "Model to use(Cyto/nuclei)",
      "description": "Object that needs to be segmented"
    },
    {
      "key": "inputs.cpretrainedModel",
      "title": "Pretrained Model of choice",
      "description": "Path to pretrained Model to run the images",
      "condition": "model.inputs.pretrainedModel=='custom'"
    },
    {
      "key": "inputs.flowPath",
      "title": "Vector field of Labelled images",
      "description": "Path to zarr file. Output of Label to Vector plugin"
    },
    {
      "key": "inputs.learningRate",
      "title": "Learning rate",
      "description": "Learning rate for training"
    },
    {
      "key": "inputs.nEpochs",
      "title": "No of epochs",
      "description": "No of epochs for training"
    },
    {
      "key": "inputs.batchSize",
      "title": "Batch size",
      "description": "Batch size for training"
    },
    {
      "key": "inputs.residualOn",
      "title": "Use residual net",
      "description": "Batch size for training"
    },
    {
      "key": "inputs.styleOn",
      "title": "Use style vector ",
      "description": "Use style vector"
    },
    {
      "key": "inputs.concatenation",
      "title": "Use concatenation ",
      "description": "Concatenate downsampled layers with upsampled layers(off by default)"
    },
    {
      "key": "inputs.trainFraction",
      "title": "Train fraction",
      "description": "Test train split"
    }
  ]
}